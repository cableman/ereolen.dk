/**
 * Creates the top-bar toggle menu.
 */(function(e){"use strict";function t(t){if(t)if(e(".topbar-menu .leaf .topbar-link-search").hasClass("active")){e(".topbar-menu .leaf .topbar-link-search").toggleClass("active");e(".js-topbar-search").css("display","none")}else{e(".topbar-menu .leaf .topbar-link-search").toggleClass("active");e(".js-topbar-search").css("display","block")}else{e(".topbar-menu .leaf .topbar-link-search").removeClass("active");e(".js-topbar-search").css("display","none")}}function n(t){if(t)if(e(".topbar-menu .leaf .topbar-link-menu").hasClass("active")){e(".topbar-menu .leaf .topbar-link-menu").toggleClass("active");e(".site-header .js-topbar-menu").css("display","none")}else{e(".topbar-menu .leaf .topbar-link-menu").toggleClass("active");e(".site-header .js-topbar-menu").css("display","block")}else e(".topbar-menu .leaf .topbar-link-menu").removeClass("active")}function r(t){if(t)if(e(".topbar-menu .leaf .topbar-link-user").hasClass("active")){e(".topbar-menu .leaf .topbar-link-user").toggleClass("active");e(".js-topbar-user").css("display","none")}else{e(".topbar-menu .leaf .topbar-link-user").toggleClass("active");e(".js-topbar-user").css("display","block")}else{e(".topbar-menu .leaf .topbar-link-user").removeClass("active");e(".js-topbar-user").css("display","none")}}function i(t){if(t)if(e(".topbar-menu .leaf .topbar-link-user-account").hasClass("active")){e(".topbar-menu .leaf .topbar-link-user-account").toggleClass("active");e(".js-mobile-user-menu").css("display","none")}else{e(".topbar-menu .leaf .topbar-link-user-account").toggleClass("active");e(".js-mobile-user-menu").css("display","block")}else{e(".topbar-menu .leaf .topbar-link-user-account").removeClass("active");e(".js-mobile-user-menu").css("display","none")}}e(document).ready(function(){e(".js-topbar-search").css("display","none");e(".front .js-topbar-search").css("display","block");e(".js-topbar-user").css("display","none");e(".front .leaf .topbar-link-menu").removeClass("active");e(".front .leaf .topbar-link-search").addClass("active");e(".js-topbar-link.topbar-link-search").on("click touchstart",function(e){t(!0);n(!1);r(!1);i(!1);e.preventDefault()});e(".js-topbar-link.topbar-link-menu").on("click touchstart",function(e){n(!0);t(!1);r(!1);i(!1);e.preventDefault()});e(".js-topbar-link.topbar-link-user").on("click touchstart",function(e){r(!0);n(!1);t(!1);e.preventDefault()});e(".js-topbar-link.topbar-link-user-account.default-override").on("click touchstart",function(e){i(!0);n(!1);t(!1);e.preventDefault()});if(e(".sub-menu-wrapper").length>0){e(".sub-menu-wrapper > .sub-menu").clone().appendTo(".main-menu > .active-trail");e(".main-menu .sub-menu a").addClass("menu-item");e(".main-menu .sub-menu").addClass("main-menu");e(".main-menu .sub-menu").removeClass("sub-menu")}var s=e(".pane-og-menu-og-single-menu-block");if(s.length){var o=e('<select class="js-og-sub-menu"/>');o.addClass("js-og-sub-menu-responsive");e("a",s).each(function(){var t=e(this);e("<option />",{value:t.attr("href"),text:t.text(),selected:t.hasClass("active")}).appendTo(o)});var u=e(".primary-content .ding-library-image");u.length||(u=e(".pane-menu-title"));u.length||(u=e(".field-name-field-ding-group-title-image"));u.length||(u=e("article.page .page-title"));if(u.length){o.insertAfter(u);e(o).change(function(){document.location.href=e(this).val()})}}var a=window.location.hash;if(a==="#login"){r(!0);n(!1);t(!1)}var f=window.location.toString();if(f.indexOf("ding_frontpage")>-1){var l=e(".messages");if(l.length>0&&l.hasClass("error")){r(!0);n(!1);t(!1)}}})})(jQuery);